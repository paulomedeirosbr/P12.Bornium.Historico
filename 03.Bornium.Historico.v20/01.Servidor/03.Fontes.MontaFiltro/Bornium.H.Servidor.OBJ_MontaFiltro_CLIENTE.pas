unit Bornium.H.Servidor.OBJ_MontaFiltro_CLIENTE;

interface

uses
  Bornium.H.Servidor.OBJ_MontaFiltro_ColecaoPadrao;

Type
  TOBJ_MontaFiltro_CLIENTE = Class(TOBJ_ColecaoPadrao)

    class function getInstance : TOBJ_MontaFiltro_CLIENTE;

    function Executar(ACodEmpresa :Integer; ACodRegistro :Variant; ANomeUsuario :String; ADataInicio :TDateTime) :String; Override;

  End;

implementation

uses
  System.SysUtils, Variants;

var
  oTabela :TOBJ_MontaFiltro_CLIENTE;

//$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
//$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
//$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

class function TOBJ_MontaFiltro_CLIENTE.getInstance: TOBJ_MontaFiltro_CLIENTE;
begin
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
  if not Assigned(oTabela) then begin
    oTabela:= TOBJ_MontaFiltro_CLIENTE.ObjCriar;
  end;
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
  Result:= oTabela;
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
end;

//$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
//$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
//$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

function TOBJ_MontaFiltro_CLIENTE.Executar(ACodEmpresa :Integer; ACodRegistro :Variant; ANomeUsuario :String; ADataInicio :TDateTime): String;
begin
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
  oFiltro.Clear;
  oFiltro.Append('{');
  oFiltro.Append(' "' + UpperCase('cdEmpresa') + '": "' + ACodEmpresa  .toString + '"');
  oFiltro.Append(',"' + UpperCase('cdCliente') + '": "' + VarToStr(ACodRegistro) + '"');
  oFiltro.Append('}');
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
  Result:= oFiltro.ToString;
//--------------------------------------------------------------------------------------------------------------------------------------------------------------
end;

//$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
//$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
//$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

initialization

finalization

   if Assigned(oTabela) then begin
     oTabela.ObjDestruir;
     oTabela:= nil;
   end;

end.
